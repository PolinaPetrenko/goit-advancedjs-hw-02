{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startButton = document.querySelector(\"[data-start]\");\nconst dateTimePicker = document.querySelector(\"#datetime-picker\");\nconst daysEl = document.querySelector(\"[data-days]\");\nconst hoursEl = document.querySelector(\"[data-hours]\");\nconst minutesEl = document.querySelector(\"[data-minutes]\");\nconst secondsEl = document.querySelector(\"[data-seconds]\");\n\nlet userSelectedDate = null;\nlet countdownInterval = null;\n\n// Функція оновлення стану кнопки\nfunction updateButtonState(button, isDisabled) {\n  if (isDisabled) {\n    button.disabled = true;\n    button.style.backgroundColor = \"#f0f0f0\";\n    button.style.cursor = \"not-allowed\";\n    button.style.color = \"black\";\n  } else {\n    button.disabled = false;\n    button.style.backgroundColor = \"#007bff\";\n    button.style.cursor = \"pointer\";\n    button.style.color = \"white\";\n  }\n}\n\n// Встановлення початкового стану кнопки\nupdateButtonState(startButton, true);\n\n// Ініціалізація flatpickr\nflatpickr(dateTimePicker, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n    if (selectedDate <= new Date()) {\n      iziToast.error({ message: \"Please choose a date in the future\" });\n      updateButtonState(startButton, true);\n    } else {\n      userSelectedDate = selectedDate;\n      updateButtonState(startButton, false);\n    }\n  },\n});\n\n// Функція форматування часу\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\");\n}\n\n// Функція конвертації часу\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// Функція оновлення таймера\nfunction updateTimerUI({ days, hours, minutes, seconds }) {\n  daysEl.textContent = addLeadingZero(days);\n  hoursEl.textContent = addLeadingZero(hours);\n  minutesEl.textContent = addLeadingZero(minutes);\n  secondsEl.textContent = addLeadingZero(seconds);\n}\n\n// Старт таймера\nstartButton.addEventListener(\"click\", () => {\n  updateButtonState(startButton, true);\n  dateTimePicker.disabled = true;\n\n  countdownInterval = setInterval(() => {\n    const now = new Date();\n    const timeDifference = userSelectedDate - now;\n\n    if (timeDifference <= 0) {\n      clearInterval(countdownInterval);\n      updateTimerUI({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n      dateTimePicker.disabled = false;\n      iziToast.success({ message: \"Countdown completed!\" });\n      return;\n    }\n\n    const time = convertMs(timeDifference);\n    updateTimerUI(time);\n  }, 1000);\n});\n\n// Загальні стилі для body\ndocument.body.style.fontFamily = \"Arial, sans-serif\";\ndocument.body.style.display = \"flex\";\ndocument.body.style.flexDirection = \"column\";\ndocument.body.style.alignItems = \"center\";\ndocument.body.style.justifyContent = \"center\";\ndocument.body.style.minHeight = \"100vh\";\ndocument.body.style.margin = \"0\";\ndocument.body.style.backgroundColor = \"#f9f9f9\";\n\n// Динамічні стилі для кнопки\nstartButton.addEventListener(\"mouseover\", () => {\n  if (!startButton.disabled) {\n    startButton.style.backgroundColor = \"#0056b3\";\n  }\n});\nstartButton.addEventListener(\"mouseout\", () => {\n  if (!startButton.disabled) {\n    startButton.style.backgroundColor = \"#007bff\";\n  }\n});\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  // Інпут \n  const dateTimePicker = document.querySelector(\"#datetime-picker\");\n  dateTimePicker.style.padding = \"10px\";\n  dateTimePicker.style.fontSize = \"16px\";\n  dateTimePicker.style.border = \"1px solid #ccc\";\n  dateTimePicker.style.borderRadius = \"5px\";\n  dateTimePicker.style.marginBottom = \"20px\";\n  dateTimePicker.style.width = \"250px\";\n  dateTimePicker.style.textAlign = \"center\";\n\n  // Кнопка Start\n  const startButton = document.querySelector(\"[data-start]\");\n  startButton.style.padding = \"10px 20px\";\n  startButton.style.fontSize = \"16px\";\n  startButton.style.backgroundColor = \"#f0f0f0\";\n  startButton.style.border = \"1px solid #ccc\";\n  startButton.style.borderRadius = \"5px\";\n  startButton.style.cursor = \"not-allowed\";\n  startButton.style.color = \"black\";\n});\n\n// Таймер\nconst timer = document.querySelector(\".timer\");\ntimer.style.display = \"flex\";\ntimer.style.gap = \"20px\";\ntimer.style.marginTop = \"20px\";\n\nconst fields = document.querySelectorAll(\".field\");\nfields.forEach((field) => {\n  field.style.display = \"flex\";\n  field.style.flexDirection = \"column\";\n  field.style.alignItems = \"center\";\n});\n\nconst values = document.querySelectorAll(\".value\");\nvalues.forEach((value) => {\n  value.style.fontSize = \"48px\";\n  value.style.fontWeight = \"bold\";\n  value.style.color = \"#333\";\n});\n\nconst labels = document.querySelectorAll(\".label\");\nlabels.forEach((label) => {\n  label.style.fontSize = \"14px\";\n  label.style.color = \"#777\";\n  label.style.textTransform = \"uppercase\";\n});"],"names":["startButton","dateTimePicker","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","countdownInterval","updateButtonState","button","isDisabled","flatpickr","selectedDates","selectedDate","iziToast","addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","updateTimerUI","timeDifference","time","timer","fields","field","values","labels","label"],"mappings":"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"}